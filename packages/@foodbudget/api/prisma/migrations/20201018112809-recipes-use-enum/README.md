# Migration `20201018112809-recipes-use-enum`

This migration has been generated by Jack Tan at 10/19/2020, 12:28:09 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TYPE "public"."Cuisine" AS ENUM ('AMERICAN', 'ITALIAN', 'ASIAN', 'MEXICAN', 'SOUTHERN_AND_SOUL_FOOD', 'FRENCH', 'SOUTH_WESTERN', 'BARBEQUE', 'INDIAN', 'CHINESE', 'CAJUN_AND_CREOLE', 'MEDITERRANEAN', 'GREEK', 'ENGLISH', 'SPANISH', 'THAI', 'GERMAN', 'MOROCCAN', 'IRISH', 'JAPANESE', 'CUBAN', 'HAWAIIAN', 'SWEDISH', 'HUNGARIAN', 'PORTUGUESE')

CREATE TYPE "public"."Diet" AS ENUM ('KETOGENIC', 'VEGETARIAN_NO_MEAT_AND_EGGS', 'VEGETARIAN_NO_MEAT_AND_DAIRY', 'PESCATARIAN', 'VEGAN', 'LOW_FOODMAP', 'VEGETARIAN', 'PALEO')

CREATE TYPE "public"."Allergy" AS ENUM ('GLUTEN', 'PEANUT', 'SEAFOOD', 'SESAME', 'SOY', 'DIARY', 'EGG', 'SULPHITE', 'TREE_NUT', 'WHEAT')

CREATE TYPE "public"."Meal" AS ENUM ('BREAKFAST', 'LUNCH', 'DINNER')

ALTER TABLE "public"."recipes" ADD COLUMN "recipe_adjectives" text []  ,
ADD COLUMN "recipe_allergies" "Allergy"[]  ,
ADD COLUMN "recipe_cuisines" "Cuisine"[]  ,
ADD COLUMN "recipe_diets" "Diet"[]  ,
ADD COLUMN "recipe_meals" "Meal"[]  
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201018071523-recipe-ingredients-id-change-to-recipe-link-and-ingredient-name..20201018112809-recipes-use-enum
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 model adjectives {
   type              String              @id
@@ -92,20 +92,78 @@
   meals     meals?   @relation(fields: [meals_id], references: [id])
   recipes   recipes? @relation(fields: [recipe_id], references: [id])
 }
+enum Cuisine {
+  AMERICAN
+  ITALIAN
+  ASIAN
+  MEXICAN
+  SOUTHERN_AND_SOUL_FOOD
+  FRENCH
+  SOUTH_WESTERN
+  BARBEQUE
+  INDIAN
+  CHINESE
+  CAJUN_AND_CREOLE
+  MEDITERRANEAN
+  GREEK
+  ENGLISH
+  SPANISH
+  THAI
+  GERMAN
+  MOROCCAN
+  IRISH
+  JAPANESE
+  CUBAN
+  HAWAIIAN
+  SWEDISH
+  HUNGARIAN
+  PORTUGUESE
+}
+
+enum Diet {
+  KETOGENIC
+  VEGETARIAN_NO_MEAT_AND_EGGS
+  VEGETARIAN_NO_MEAT_AND_DAIRY
+  PESCATARIAN
+  VEGAN
+  LOW_FOODMAP
+  VEGETARIAN
+  PALEO
+}
+
+enum Allergy {
+  GLUTEN
+  PEANUT
+  SEAFOOD
+  SESAME
+  SOY
+  DIARY
+  EGG
+  SULPHITE
+  TREE_NUT
+  WHEAT
+}
+
+enum Meal {
+  BREAKFAST
+  LUNCH
+  DINNER
+}
+
 model recipes {
   id                 Int                  @id @default(autoincrement())
   name               String
   link               String               @unique
   prep_time          String
   servings           Float
   num_saved          Float
-  recipe_adjectives  recipe_adjectives[]
-  recipe_allergies   recipe_allergies[]
-  recipe_cuisines    recipe_cuisines[]
-  recipe_diets       recipe_diets[]
-  recipe_meals       recipe_meals[]
+  recipe_adjectives  String[]
+  recipe_allergies   Allergy[]
+  recipe_cuisines    Cuisine[]
+  recipe_diets       Diet[]
+  recipe_meals       Meal[]
   recipe_ingredients recipe_ingredients[]
   user_saved_recipes user_saved_recipes[]
 }
```


