# Migration `20201013073228-add-google-id-to-users`

This migration has been generated by Jack Tan at 10/13/2020, 8:32:28 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."users" ADD COLUMN "google_id" text   ,
ALTER COLUMN "password" DROP NOT NULL,
ALTER COLUMN "nickname" DROP NOT NULL

CREATE UNIQUE INDEX "users.google_id_unique" ON "public"."users"("google_id")
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201013013140-add-user-id..20201013073228-add-google-id-to-users
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 model adjectives {
   adjectives_type   String              @id
@@ -125,11 +125,12 @@
 }
 model users {
   id                 Int                  @id @default(autoincrement())
+  google_id          String?              @unique
   email              String               @unique
-  password           String
-  nickname           String
+  password           String?
+  nickname           String?
   user_allergies     user_allergies[]
   user_diets         user_diets[]
   user_pantries      user_pantries[]
   user_saved_recipes user_saved_recipes[]
```


