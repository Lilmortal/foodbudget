# Migration `20201018124303-remove-prefix`

This migration has been generated by Jack Tan at 10/19/2020, 1:43:03 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."recipes" DROP COLUMN "recipe_adjectives",
DROP COLUMN "recipe_allergies",
DROP COLUMN "recipe_cuisines",
DROP COLUMN "recipe_diets",
DROP COLUMN "recipe_meals",
ADD COLUMN "adjectives" text []  ,
ADD COLUMN "allergies" "Allergy"[]  ,
ADD COLUMN "cuisines" "Cuisine"[]  ,
ADD COLUMN "diets" "Diet"[]  ,
ADD COLUMN "meals" "Meal"[]  

ALTER TABLE "public"."users" DROP COLUMN "user_allergies",
DROP COLUMN "user_diets",
ADD COLUMN "allergies" "Allergy"[]  ,
ADD COLUMN "diets" "Diet"[]  
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201018115218-removed-3rd-normalization-tables..20201018124303-remove-prefix
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 enum Cuisine {
   AMERICAN
@@ -84,32 +84,32 @@
   @@id([recipe_link, ingredient_name])
 }
 model recipes {
-  id                 Int                  @id @default(autoincrement())
-  name               String
-  link               String               @unique
-  prep_time          String
-  servings           Float
-  num_saved          Float
-  recipe_adjectives  String[]
-  recipe_allergies   Allergy[]
-  recipe_cuisines    Cuisine[]
-  recipe_diets       Diet[]
-  recipe_meals       Meal[]
-  recipe_ingredients recipe_ingredients[]
-  users              users?               @relation(fields: [usersId], references: [id])
-  usersId            Int?
+  id          Int                  @id @default(autoincrement())
+  name        String
+  link        String               @unique
+  prep_time   String
+  servings    Float
+  num_saved   Float
+  adjectives  String[]
+  allergies   Allergy[]
+  cuisines    Cuisine[]
+  diets       Diet[]
+  meals       Meal[]
+  ingredients recipe_ingredients[]
+  users       users?               @relation(fields: [usersId], references: [id])
+  usersId     Int?
 }
 model users {
-  id                 Int           @id @default(autoincrement())
-  google_id          String?       @unique
-  facebook_id        String?       @unique
-  email              String        @unique
-  password           String?
-  nickname           String?
-  user_allergies     Allergy[]
-  user_diets         Diet[]
-  user_pantries      ingredients[]
-  user_saved_recipes recipes[]
+  id            Int           @id @default(autoincrement())
+  google_id     String?       @unique
+  facebook_id   String?       @unique
+  email         String        @unique
+  password      String?
+  nickname      String?
+  allergies     Allergy[]
+  diets         Diet[]
+  pantries      ingredients[]
+  saved_recipes recipes[]
 }
```


